name: Zillow

signin:
  fields:
    - name: email
      type: email
      prompt: Email
      selector: input[name='identifier']
    - name: password
      type: password
      prompt: Password
      selector: input#password
    - name: continue
      type: click
      prompt: Continue
      selector: button#submit-form-button
    - name: submit
      type: click
      prompt: Submit
      selector: button[type=submit]
    - name: wait_home_page
      type: wait
      selector: h1:has-text("Saved homes")
    - name: message_error
      type: message
      selector: span#error-element-password
      prompt: ‚ùå Incorrect email or password. Please try again.

  pages:
    - name: Redirect to Sign In Page
      url: https://www.zillow.com/myzillow/favorites

    - name: Login Page
      fields: [email, continue]

    - name: Password Page
      fields:
        required: [password, submit]
        optional: [message_error]

    - name: Home Page
      fields: [wait_home_page]
      end: true

  start: Redirect to Sign In Page
