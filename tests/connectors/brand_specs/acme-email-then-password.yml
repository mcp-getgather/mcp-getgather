name: ACME

signin:
  fields:
    - name: email
      type: text
      prompt: Please enter your email address
      selector: input[type=email]
    - name: password
      type: password
      prompt: Please enter your password
      selector: input[type=password]
    - name: submit
      type: click
      prompt: Submit
      selector: form button[type=submit]
      expect_nav: true
    - name: wrong_password_message
      type: message
      prompt: Incorrect credentials
      label: p:has-text("Incorrect credentials")
      selector: p:has-text("Incorrect credentials")
    - name: welcome
      type: wait
      selector: p:has-text("Welcome")
  pages:
    - name: Email form
      url: http://localhost:5001/auth/email-then-password
      fields: [email, submit]

    - name: Password form
      fields:
        required: [password, submit]
        optional: [wrong_password_message]

    - name: Welcome page
      fields: [welcome]
      end: true

  start: Email form
