name: ACME

signin:
  fields:
    - name: toggle_login
      type: click
      prompt: Toggle Login
      selector: button:has-text('Sign in')

    - name: email
      type: text
      prompt: Email address
      iframe_selector: iframe
      selector: input[type=email]

    - name: password
      type: password
      prompt: Password
      iframe_selector: iframe
      selector: input[type=password]

    - name: submit
      type: click
      prompt: Submit
      iframe_selector: iframe
      selector: button[type=submit]
      expect_nav: true
      url: http://localhost:5001/auth/success

  pages:
    - name: Homepage
      url: http://localhost:5001/auth/email-password-iframe
      fields: [toggle_login]

    - name: Login
      url: http://localhost:5001/auth/email-password-iframe
      fields: [email, password, submit]

    - name: Success
      url: http://localhost:5001/auth/success
      end: true

  start: Homepage
