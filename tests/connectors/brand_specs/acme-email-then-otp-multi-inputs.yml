name: ACME

auth:
  fields:
    - name: email
      type: text
      prompt: Please enter your email address
      selector: input[type=email]
    - name: otp
      type: text
      prompt: Please enter the one-time code
      selectors: input[name^="otp_"]
    - name: submit
      type: click
      prompt: Submit
      selector: form button[type=submit]
      expect_nav: true
    - name: welcome_page
      type: wait
      selector: p:has-text("Welcome")
  pages:
    - name: Go to ACME Corp
      url: http://localhost:5001/auth/email-then-otp-multi-inputs
      fields: [email, submit]

    - name: OTP form
      fields: [otp, submit]

    - name: Welcome page
      fields: [welcome_page]
      end: true
  start: Go to ACME Corp
